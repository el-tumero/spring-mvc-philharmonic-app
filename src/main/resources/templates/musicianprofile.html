<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:th="https://www.thymeleaf.org"
      xmlns:sec="https://www.thymeleaf.org/thymeleaf-extras-springsecurity3">
<head>
    <meta charset="UTF-8">
    <title>Profil muzyka</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-GLhlTQ8iRABdZLl6O3oVMWSktQOp6b7In1Zl3/Jr59b6EGGoI1aFkw7cmDA6j6gD" crossorigin="anonymous">
    <script defer src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js" integrity="sha384-w76AqPfDkMBDXo30jS1Sgez6pr3x5MlQ1ZAGC+nuZB+EYdgRZgiwxhTBTkF7CXvN" crossorigin="anonymous"></script>
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@48,400,0,0" />
    <style>
        body{
            margin: 25px;
        }

        #back{
            text-decoration: none;
            color: black;
            display: flex;
            align-items: center;
            margin-bottom: 1rem;
        }

        #back:hover{
            color: rgb(134,134,134);
        }
    </style>
</head>
<body>
<a id="back" href="/admin">
    <span class="material-symbols-outlined">
    arrow_back
    </span>
    powrót
</a>

<h2 th:text="${musician.getUser().getFirstName()} + ' ' + ${musician.getUser().getLastName()}"></h2>
<h3>Dane:</h3>
<b><p th:text="'specjalizacja: ' + ${musician.getSpecialization()}"></p></b>
<p th:text="'płeć: ' + ${musician.getGender()}"></p>
<p th:text="'numer telefonu: ' + ${musician.getUser().getEmail()}"></p>
<p th:text="'numer telefonu: ' + ${musician.getUser().getPhoneNumber()}"></p>
<p th:text="'data urodzenia: ' + ${musician.getUser().getBirthdate().toString()}"></p>
<p th:text="'numer pesel: ' + ${musician.getPesel()}"></p>
<p th:text="'numer konta bankowego: ' + ${musician.getIban()}"></p>
<p th:text="'wysokość miesięcznego wynagrodzenia: ' + ${musician.getSalary()}"></p>
<p th:text="'wykształcenie: ' + ${musician.getEducation()}"></p>
<p><b>Adres:</b></p>
<p th:text="'ulica: ' + ${musician.getAddress().getStreet()}"></p>
<p th:text="'miejscowość: ' + ${musician.getAddress().getTown()}"></p>
<p th:text="'kod pocztowy ' + ${musician.getAddress().getPostcode()}"></p>


<div th:if="${isAdmin}">
    <h3>Edycja</h3>

    <form action="#" th:action="@{/admin/edit/musician/{id}(id = ${musician.getId()})}" method="post">
        <input type="text" placeholder="Email" th:field="${user.email}" required>
        <input type="text" placeholder="Imię" th:field="${user.firstName}" required>
        <input type="text" placeholder="Nazwisko" th:field="${user.lastName}" required>
        <input type="date" th:field="${user.birthdate}" required>
        <input type="text" placeholder="Numer telefonu" th:field="${user.phoneNumber}" required>
        <input type="text" placeholder="Hasło" th:field="${user.password}" required>
        <br>
        <input type="text" placeholder="Płeć" th:field="${musician.gender}" required>
        <input type="text" placeholder="Iban" th:field="${musician.iban}" required>
        <input type="text" placeholder="Pesel" th:field="${musician.pesel}" required>
        <input type="number" th:field="${musician.salary}" required>
        <br>
        <input type="text" placeholder="Wykształcenie" th:field="${musician.education}" required>
        <input type="text" placeholder="Specjalizacja" th:field="${musician.specialization}" required>
        <p>Adres:</p>
        <input type="text" placeholder="Miasto" th:field="${address.town}" required>
        <input type="text" placeholder="Ulica" th:field="${address.street}" required>
        <input type="text" placeholder="Numer mieszkania" th:field="${address.apartamentNumber}">
        <input type="text" placeholder="Kod pocztowy" th:field="${address.postcode}" required>

        <input type="submit" value="Wprowadź zmiany">
    </form>


</div>

</body>
</html>